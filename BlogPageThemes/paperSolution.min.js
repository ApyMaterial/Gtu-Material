async function GetPaperSolutionList() {

    let paperSolutioHTML = document.getElementById("paperSolution");

    let url = new URL(window.location.href);
    let searchParams = new URLSearchParams(url.search);
    solutionCode = searchParams.get('subject_code');



    requestURL = "https://apymaterial.github.io/Gtu-Material/PaperSolutions.json";
    request = new Request(requestURL);
    response = await fetch(request);
    if (response.status == "200") {
        PaperSolutionsList = await response.json();
        let PaperSolutions = PaperSolutionsList.paper_list;

        if (solutionCode != null) {
          paperSolutioHTML.innerHTML = ``;
            let newList = PaperSolutions.filter(paper => { return paper.Subject_code == solutionCode })
            for (let k of newList) {
                paperSolutioHTML.innerHTML += `<br><br><div class="container"><div class="row"><div class=""><div class="card card-margin"><div class="card-body border-2 "><div class="widget-49"><div class="widget-49-title-wrapper"><div class="widget-49-date-primary"><span class="widget-49-date-day"> PS </span></div><div class="widget-49-meeting-info"><span class="widget-49-pro-title">` + k["Year"] + `</span><span class="widget-49-meeting-time">` + k["Subject_name"] + `</span></div></div><a href="` + k["Url"] + `" class="btn btn-sm btn-flash-border-primary widget-49-meeting-action">View</a></div></div></div></div></div></div>`
            }

        }

        else {
            let paperSolutionTableBody = document.getElementById("paperSolutionTableBody");
            paperSolutionTableBody.innerHTML = ``;
            for (let k of PaperSolutions) {

                paperSolutionTableBody.innerHTML += `
                  <tr>
            <td class="px-6 py-4 whitespace-no-wrap border-b border-gray-200">
                <div class="flex items-center">
                    <div class="ml-4">
                        <div class="text-sm font-medium leading-5 text-gray-900">
                            `+ k["Subject_name"] + `
                        </div>
                    </div>
                </div>
            </td>
        
            <td class="px-6 py-4 whitespace-no-wrap border-b border-gray-200">
                <div class="text-sm leading-5 text-gray-500"> ` + k["Subject_code"] + `  </div>
            </td>
        
            <td class="px-6 py-4 whitespace-no-wrap border-b border-gray-200">
                <span
                    class="inline-flex px-2 text-xs font-semibold leading-5 text-green-800 bg-green-100 rounded-full">` + k["Year"] + `</span>
            </td>
        
            <td class="px-6 py-4 text-sm leading-5 text-gray-500 whitespace-no-wrap border-b border-gray-200 text-2xl">
            <a href="` + k["Url"] + ` " target="_blank">
                <i class="fa fa-eye text-blue-400 text-3xl" aria-hidden="true"></i>
                </a>
            </td>
        </tr>
                  `
            }
            console.log(paperSolutionTableBody.innerHTML);
        }
    }
}
$(document).ready(function () {
    var table = $('#paperSolutionTable').DataTable({
    })
});

